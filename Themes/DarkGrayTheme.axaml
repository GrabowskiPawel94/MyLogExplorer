<!-- Themes/DarkGrayTheme.axaml -->
<Styles xmlns="https://github.com/avaloniaui"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml">

  <!-- App brushes -->
  <Style>
    <Style.Resources>
      <SolidColorBrush x:Key="App.TextBoxBackground"   Color="#2B2B2B"/>
      <SolidColorBrush x:Key="App.TextBoxForeground"   Color="#E0E0E0"/>
      <SolidColorBrush x:Key="App.TextBoxBorder"       Color="#3C3C3C"/>
      <SolidColorBrush x:Key="App.Selection"           Color="#9462A3"/>
      <SolidColorBrush x:Key="App.SelectionForeground" Color="#121212"/>

      <SolidColorBrush x:Key="ThemeBackgroundBrush" Color="#1E1E1E"/>
      <SolidColorBrush x:Key="ThemeForegroundBrush" Color="#E0E0E0"/>

      <SolidColorBrush x:Key="SystemControlBackgroundBaseLowBrush"    Color="#1E1E1E"/>
      <SolidColorBrush x:Key="SystemControlBackgroundBaseMediumBrush" Color="#252525"/>
      <SolidColorBrush x:Key="SystemControlBackgroundBaseHighBrush"   Color="#2B2B2B"/>
    </Style.Resources>
  </Style>

  <!-- Unified TextBox style -->
  <Style Selector="TextBox">
    <Setter Property="Background"      Value="{DynamicResource App.TextBoxBackground}"/>
    <Setter Property="Foreground"      Value="{DynamicResource App.TextBoxForeground}"/>
    <Setter Property="BorderBrush"     Value="{DynamicResource App.TextBoxBorder}"/>
    <Setter Property="CaretBrush"      Value="{DynamicResource App.TextBoxForeground}"/>
    <Setter Property="SelectionBrush"  Value="{DynamicResource App.Selection}"/>
    <Setter Property="BorderThickness" Value="1"/>
    <Setter Property="Padding"         Value="6,4"/>

    <Setter Property="Template">
      <ControlTemplate>
        <Border
          Background="{TemplateBinding Background}"
          BorderBrush="{TemplateBinding BorderBrush}"
          BorderThickness="{TemplateBinding BorderThickness}"
          CornerRadius="4"
          Padding="{TemplateBinding Padding}">
          <ScrollViewer x:Name="PART_ScrollViewer"
                        HorizontalScrollBarVisibility="Hidden"
                        Background="Transparent">
            
            <TextPresenter
              x:Name="PART_TextPresenter"
              
              Text="{TemplateBinding Text}"
              TextWrapping="{TemplateBinding TextWrapping}"
              TextAlignment="{TemplateBinding TextAlignment}"
              Margin="5"
              
              SelectionStart="{TemplateBinding SelectionStart}"
              SelectionEnd="{TemplateBinding SelectionEnd}"
              CaretIndex="{TemplateBinding CaretIndex}"
              
              Background="Transparent"
              Foreground="{StaticResource App.TextBoxForeground}"
              CaretBrush="{StaticResource App.TextBoxForeground}"
              SelectionBrush="{StaticResource App.Selection}"
              SelectionForegroundBrush="{StaticResource App.SelectionForeground}"
              
              PasswordChar="{TemplateBinding PasswordChar}"
              RevealPassword="{TemplateBinding RevealPassword}"
              LetterSpacing="{TemplateBinding LetterSpacing}" />
             
          </ScrollViewer>
        </Border>
      </ControlTemplate>
    </Setter>
  </Style>

  <!-- State tweaks: keep BG the same -->
  <Style Selector="TextBox:pointerover">
    <Setter Property="BorderBrush" Value="#4A4A4A"/>
  </Style>
  <Style Selector="TextBox:focus">
    <Setter Property="BorderBrush" Value="{DynamicResource AccentBrush}"/>
  </Style>
  <Style Selector="TextBox:disabled">
    <Setter Property="Foreground" Value="#9A9A9A"/>
  </Style>
</Styles>
